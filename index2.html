
<div id="resizeHandle" class="resize-handle" style="display: none;"></div>
 <button type="button" onclick="toggleSection('overall', this)">Expand Section</button>

<div>
    <section  >
      <div id="inputSection" class="">

        <form id="graphForm"> 
          <label for="chains">
            <h2>Input Hadith Chains:</h2>
          </label>
          <textarea id="chains" name="chains" class="chains-textarea" placeholder="Enter Hadith chains here..." required></textarea>
          <div style="color: red;" id="chainsErrorMessage"></div>
          <button type="submit" class="primary-button">Update Graph</button>


          <div style="display: none"> 
          <label for="node_separation">Node Separation:</label>
          <input type="number" id="node_separation" name="node_separation" min="0" value="0.8" max="5" step="0.01" required>
          <label for="rank_separation">Rank Separation:</label>
          <input type="number" id="rank_separation" name="rank_separation" min="0" value="2.5" max="5" step="0.01" required> 

            <label for="direction">Direction:</label>
            <select id="direction" name="direction" required>
              <option value="LR">Left to Right (LR)</option>
              <option value="RL">Right to Left (RL)</option>
              <option value="TB">Top to Bottom (TB)</option>
              <option value="BT">Bottom to Top (BT)</option>
            </select>
            <!-- Collapsible Menu for Advanced Options -->
            <button type="button" class="normal-button" onclick="toggleMenu()">Advanced Style Options</button>
            <button type="submit" class="normal-button">Update Graph</button>
            <div id="advancedOptions" style="display: none;">
              <label for="narratorBoxStyle">Narrator Box Style:</label>
              <input type="text" id="narratorBoxStyle" name="narratorBoxStyle" value="shape=rectangle;fillColor=white;strokeColor=black;fontColor=black;fontSize=17;whiteSpace=wrap;spacing=5;" required>
              <label for="narratorBoxShape">Narrator Box Shape:</label>
              <input type="text" id="narratorBoxShape" name="narratorBoxShape" value="width='180' height='50'" required>
              <label for="compilerBoxStyle">Compiler Box Style:</label>
              <input type="text" id="compilerBoxStyle" name="compilerBoxStyle" value="shape=rectangle;fillColor=lightblue;strokeColor=blue;fontSize=17;fontColor=black;spacing=5;" required>
              <label for="compilerBoxShape">Compiler Box Shape:</label>
              <input type="text" id="compilerBoxShape" name="compilerBoxShape" value="width='160' height='40'" required> Show Matn on Graph: <input type="checkbox" id="showMatn" style="width: 20px" name="showMatn" checked>
              <label for="matnBoxStyle">Matn Box Style:</label>
              <input type="text" style="align: left;" id="matnBoxStyle" name="matnBoxStyle" value="shape=rectangle;fillColor=white;strokeColor=none;fontColor=black;fontSize=24;whiteSpace=wrap;" required>
              <label for="matnBoxShape">Matn Box Shape:</label>
              <input type="text" id="matnBoxShape" name="matnBoxShape" value="width='180' height='50'" required>
            </div>

          </div>
        </form>
      </div>
    </section>

    <section id="overall" class="collapsible-section container">
      <h2>Hadith Diagram</h2> 

      <div id="graphContainer"></div>

      <div class="container-buttons">
          <button id="directionToggle" class="direction-button">

              <img id="directionIcon" src="icons/tree-lr.png" alt="Graph Direction">
          </button> 

          <div class="spacing-controls">
              <label for="nodeSeparation">Node Spacing:</label>
              <input type="range" id="nodeSeparation" name="nodeSeparation" min="0.5" max="5" step="0.01" value="0.8">

              <label for="rankSeparation">Rank Spacing:</label>
              <input type="range" id="rankSeparation" name="rankSeparation" min="1" max="10" step="0.01" value="2.5">  
          </div>
      </div>



      <div class="button-group">
        <button id="openDrawIo" class="primary-button">Open in draw.io</button>
        <button id="copyToClipboard" class="primary-button">Copy for draw.io</button>
      </div>
    </section>
  </div>